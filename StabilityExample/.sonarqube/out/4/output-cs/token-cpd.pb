Í$
RC:\SVN\C16440\CSharpStabilityExamples\DoEvents_Problems\DoEvents_Problems\Form1.cs
	namespace 	
DoEvents_Problems
 
{ 
public 

partial 
class 
Form1 
:  
Form! %
{ 
TaskScheduler 
uiScheduler !
;! "
public 
Form1 
( 
) 
{ 	
InitializeComponent 
(  
)  !
;! "
} 	
private 
void 
button1_Click "
(" #
object# )
sender* 0
,0 1
	EventArgs2 ;
e< =
)= >
{ 	
for 
( 
int 
i 
= 
$num 
; 
i 
< 
$num  %
;% &
i' (
++( *
)* +
{ 
listBox1 
. 
Items 
. 
Add "
(" #
i# $
.$ %
ToString% -
(- .
). /
)/ 0
;0 1
Application 
. 
DoEvents $
($ %
)% &
;& '
textBox1 
. 
Text 
= 
string  &
.& '
Format' -
(- .
$str. I
,I J
iK L
)L M
;M N
}   
textBox1"" 
."" 
Text"" 
="" 
$str"" "
;""" #
}## 	
private%% 
void%% 
Form1_FormClosing%% &
(%%& '
object%%' -
sender%%. 4
,%%4 5 
FormClosingEventArgs%%6 J
e%%K L
)%%L M
{&& 	
textBox1'' 
.'' 
Dispose'' 
('' 
)'' 
;'' 
textBox1(( 
=(( 
null(( 
;(( 
})) 	
private++ 
async++ 
void++ 
button2_Click++ (
(++( )
object++) /
sender++0 6
,++6 7
	EventArgs++8 A
e++B C
)++C D
{,, 	
Task-- 
<-- 
string-- 
>-- 
s-- 
=-- 
UpdateUI-- %
(--% &
)--& '
;--' (
await.. 
s.. 
;.. 
}11 	
private33 
async33 
Task33 
<33 
String33 !
>33! "
UpdateUI33$ ,
(33, -
)33- .
{44 	
String55 
s55 
=55 
$str55 "
;55" #
await77 
Task77 
.77 
Factory77 
.77 
StartNew77 '
(77' (
(77( )
)77) *
=>77+ -
{88 
for99 
(99 
int99 
i99 
=99 
$num99 
;99 
i99  !
<99" #
$num99$ )
;99) *
i99+ ,
++99, .
)99. /
{:: 
listBox1;; 
.;; 
Items;; "
.;;" #
Add;;# &
(;;& '
i;;' (
.;;( )
ToString;;) 1
(;;1 2
);;2 3
);;3 4
;;;4 5
textBox1<< 
.<< 
Text<< !
=<<" #
string<<$ *
.<<* +
Format<<+ 1
(<<1 2
$str<<2 M
,<<M N
i<<O P
)<<P Q
;<<Q R
if== 
(== 
i== 
%== 
$num==  
====! #
$num==$ %
)==% &
{>> 
listBox1??  
.??  !

Invalidate??! +
(??+ ,
)??, -
;??- .
listBox1@@  
.@@  !
Update@@! '
(@@' (
)@@( )
;@@) *
}AA 
}CC 
}DD 
,DD 
CancellationTokenDD  
.DD  !
NoneDD! %
,DD% &
TaskCreationOptionsDD' :
.DD: ;
NoneDD; ?
,DD? @
uiSchedulerDDA L
)DDL M
;DDM N
returnFF 
sFF 
;FF 
}HH 	
privateII 
voidII 

Form1_LoadII 
(II  
objectII  &
senderII' -
,II- .
	EventArgsII/ 8
eII9 :
)II: ;
{JJ 	
uiSchedulerKK 
=KK 
TaskSchedulerKK (
.KK( )-
!FromCurrentSynchronizationContextKK) J
(KKJ K
)KKK L
;KKL M
}LL 	
}MM 
}NN €
TC:\SVN\C16440\CSharpStabilityExamples\DoEvents_Problems\DoEvents_Problems\Program.cs
	namespace 	
DoEvents_Problems
 
{ 
static		 

class		 
Program		 
{

 
[ 	
	STAThread	 
] 
static 
void 
Main 
( 
) 
{ 	
Application 
. 
EnableVisualStyles *
(* +
)+ ,
;, -
Application 
. -
!SetCompatibleTextRenderingDefault 9
(9 :
false: ?
)? @
;@ A
Application 
. 
Run 
( 
new 
Form1  %
(% &
)& '
)' (
;( )
} 	
} 
} è
dC:\SVN\C16440\CSharpStabilityExamples\DoEvents_Problems\DoEvents_Problems\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str ,
), -
]- .
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str .
). /
]/ 0
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
[## 
assembly## 	
:##	 

AssemblyVersion## 
(## 
$str## $
)##$ %
]##% &
[$$ 
assembly$$ 	
:$$	 

AssemblyFileVersion$$ 
($$ 
$str$$ (
)$$( )
]$$) *